<script>
(async () => {
  const status = document.getElementById('status');

  try {
    // جرّب تحميل الملف من نفس مجلد docs
    const res = await fetch('question_bank_v3.json', { cache: 'no-store' });
    if (!res.ok) throw new Error('HTTP ' + res.status);

    const bank = await res.json();

    status.innerHTML = `
      <div class="ok">تم التحميل ✅</div>
      <div>الإصدار: <b>${bank.bank_version ?? 'غير محدد'}</b></div>
      <div>عدد الأسئلة: <b>${Array.isArray(bank.questions) ? bank.questions.length : 0}</b></div>
    `;
  } catch (e) {
    status.innerHTML = `
      <div class="err">فشل تحميل بنك الأسئلة ❌</div>
      <div><code>${e.message}</code></div>
    `;
    console.error(e);
  }
})();
</script>
