<script>
(async () => {
  const status = document.getElementById('status');
  try {
    // حمّل بنك الأسئلة من نفس مجلد docs
    const response = await fetch('question_bank_v3.json', { cache: 'no-store' });
    if (!response.ok) throw new Error('HTTP ' + response.status);
    const bank = await response.json();

    status.innerHTML = `
      <div class="ok">تم التحميل ✅</div>
      <div>الإصدار: <b>${bank.bank_version ?? '—'}</b></div>
      <div>عدد الأسئلة: <b>${Array.isArray(bank.questions) ? bank.questions.length : 0}</b></div>
    `;
  } catch (e) {
    status.innerHTML = `
      <div class="err">فشل تحميل بنك الأسئلة ❌</div>
      <div>الخطأ: <code>${String(e)}</code></div>
      <div>المسار المُستخدم: <code>docs/question_bank_v3.json</code></div>
    `;
    console.error(e);
  }
})();
</script>
